{"version":3,"sources":["components/Spinner/Spinner.js","redux/actions/userActions.js","redux/types.js","pages/Login.js","components/Banner/StyledBanner.js","components/Banner/Banner.js","components/HomeDescription/HomeDescriptionItem.js","components/HomeDescription/HomeDescription.js","components/AlertDialog/AlertDialog.js","components/Autocomplete/AutoAddress.js","redux/actions/dataAction.js","components/Forms/FormUpdate.js","components/Modals/ModalUpdate.js","components/SocialShare/SocialShare.js","components/CardRestaurant/CardRestaurant.js","components/HomeRestaurant/HomeRestaurant.js","components/SearchResult/SearchResult.js","components/Divider/Divider.js","pages/Home.js","components/Forms/FormAdd.js","components/Modals/ModalAdd.js","components/ListRestaurant/ListRestaurant.js","pages/Restaurants.js","components/Navigation/Nav.js","redux/reducers/userReducer.js","redux/reducers/dataReducer.js","redux/reducers/uiReducer.js","redux/store.js","App.js","serviceWorker.js","index.js"],"names":["styles","makeStyles","theme","root","width","spinner","height","marginLeft","marginRight","Spinner","classes","className","CircularProgress","getUserData","id","dispatch","type","axios","get","then","res","payload","data","catch","err","console","log","setAuthorizationHeader","token","FBidToken","localStorage","setItem","defaults","headers","common","background","padding","paddingLeft","paddingRight","breakpoints","down","paper","form","margin","spacing","button","forgotPass","marginTop","customError","color","textAlign","mapActionsToProps","loginUser","userData","post","userId","response","registor","newUserData","history","connect","state","user","UI","props","useState","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","setType","errors","setErrors","flag","setFlag","useEffect","loading","login","setState","handleChange","event","target","value","length","slice","name","Paper","elevation","Typography","variant","align","noValidate","autoComplete","TextField","error","label","helperText","onChange","Button","endIcon","Send","onClick","e","preventDefault","match","href","IconButton","aria-label","StyleBanner","styled","header","img","banner","Banner","useStyles","flexGrow","maxWidth","backgroundColor","image","display","maxHeight","content","contentContainer","marginBottom","HomeDescriptionItem","direction","Grid","container","item","xs","sm","dataSet","style","HomeDescription","map","lg","key","AlertDialog","action","description","title","parent","React","open","setOpen","handleClose","submit","handleYes","Tooltip","placement","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","google","window","AutoAddress","address","maps","Map","document","getElementById","center","lat","lng","zoom","card","input","controls","ControlPosition","TOP_RIGHT","push","autocomplete","places","Autocomplete","bindTo","setFields","marker","infowindow","InfoWindow","infowindowContent","setContent","Marker","anchorPoint","Point","position","addListener","close","setVisible","place","getPlace","geometry","viewport","fitBounds","setCenter","location","setZoom","setPosition","address_components","short_name","join","children","src","icon","textContent","getPosition","alert","initMap","placeholder","getRestaurants","uploadImage","formData","getOne","clearErrors","labels","0","1","2","3","4","5","FormUpdate","visitDate","price","reporter","notes","message","url","uploadedImage","valueService","hoverService","valueCleanliness","hoverCleanliness","valueFood","hoverFood","handleChangeRating","newValue","handleChangeActive","newHover","handleUpload","files","handleSubmit","handleUpdate","serviceRating","cleanlinessRating","foodQualityRating","totalRating","Math","round","updateData","credentials","FormData","append","restaurant","updateRestaurant","this","positionRating","i","service","cleanliness","food","onSubmit","required","htmlFor","labelRating","contentRating","Rating","precision","onChangeActive","Box","ml","resultRating","CardMedia","media","handleMediaClick","bind","Component","newData","patch","result","withStyles","paddingTop","fontSize","fontWeight","overflow","palette","border","boxShadow","shadows","top","left","transform","addIcon","ModalUpdate","body","Modal","zIndex","justifyContent","only","SocialShare","ShareList","Passers","share","FacebookShareButton","quote","FacebookIcon","size","EmailShareButton","subject","emailIcon","EmailIcon","cardActions","cardContent","CardRestaurant","deleteRestaurant","Card","raised","CardHeader","avatar","Avatar","subheader","moment","dateCreate","format","CardContent","CardActions","disableSpacing","hover","opacity","HomeRestaurant","alignItems","restaurants","md","SearchResult","restaurantsFilter","Divider","Home","StyledBanner","app","search","FormAdd","count","createdDate","Date","toISOString","postRestaurant","closeModel","InputLabelProps","shrink","ModalAdd","divider","hoverAdd","cursor","ListRestaurant","random","Apartments","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","easeOut","enteringScreen","hide","drawer","flexShrink","drawerPaper","navLink","textDecoration","avatarSize","borderRadius","shape","fade","white","up","searchIcon","pointerEvents","inputRoot","inputInput","toolbar","mixins","menuButton","drawerHeader","filter","constraint","useTheme","innerWidth","setWidth","handleLogout","removeItem","iconClose","click","handleDrawerClose","updateWidthAndHeight","addEventListener","removeEventListener","CssBaseline","AppBar","clsx","Toolbar","edge","justify","noWrap","InputBase","inputProps","toLowerCase","Drawer","anchor","alt","List","text","index","to","ListItem","ListItemIcon","ListItemText","primary","initialState","authenticated","middleware","thunk","reducers","combineReducers","findIndex","splice","sort","a","b","store","createStore","compose","applyMiddleware","baseURL","jwtDecode","exp","now","App","undefined","contentShift","exact","path","component","Restaurants","render","Boolean","hostname","renderReactDom","ReactDOM","cordova","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d4dac485.chunk.js","sourcesContent":["import React from 'react';\r\n// MUI\r\nimport {CircularProgress } from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst styles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100%\" ,\r\n    },\r\n    spinner: {\r\n        width: \"40px\",\r\n        height: \"40px\",\r\n        marginLeft: \"47%\",\r\n        marginRight: \"47%\"\r\n    }\r\n}))\r\n\r\nconst Spinner = () => {\r\n    const classes = styles();\r\n    \r\n    return (\r\n        <div className={classes.root}>\r\n            <CircularProgress className={classes.spinner}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spinner; \r\n","import { SET_USER, SET_ERRORS_LOGIN, SET_ERRORS_REGISTOR, CLEAR_ERRORS, LOADING_UI, SET_UNAUTHENTICATED, LOADING_USER, STOP_LOADING_UI } from '../types';\r\nimport axios from 'axios';\r\n\r\nexport const loginUser = (userData) => (dispatch) => {\r\n    dispatch({ type: LOADING_UI });\r\n    axios.post('/login', userData)\r\n            .then(res => {\r\n                localStorage.userId = res.data.id;\r\n                setAuthorizationHeader(res.data.token);\r\n                dispatch(getUserData(res.data.id));\r\n                dispatch({ type: CLEAR_ERRORS });\r\n                dispatch({ type: STOP_LOADING_UI });\r\n            })\r\n            .catch(err => {\r\n                dispatch({  \r\n                    type: SET_ERRORS_LOGIN,\r\n                    payload: err.response\r\n                });\r\n            });\r\n};\r\n\r\nexport const registor = (newUserData, history) => (dispatch) => {\r\n    dispatch({ type: LOADING_UI });\r\n    axios.post('/registor', newUserData)\r\n            .then(res => {\r\n                setAuthorizationHeader(res.data.token);\r\n                dispatch(getUserData(res.data.id));\r\n                dispatch({ type: CLEAR_ERRORS });\r\n                dispatch({ type: STOP_LOADING_UI });\r\n            })\r\n            .catch(err => {\r\n                dispatch({  \r\n                    type: SET_ERRORS_REGISTOR,\r\n                    payload: err.response\r\n                });\r\n            });\r\n};\r\n\r\nexport const logoutUser = () => (dispatch) => {\r\n    localStorage.removeItem('FBidToken');\r\n    delete axios.defaults.headers.common['Authorization'];\r\n    dispatch({ type: SET_UNAUTHENTICATED });\r\n}\r\n\r\nexport const getUserData = (id) => (dispatch) => {\r\n    dispatch({ type: LOADING_USER });\r\n    axios.get(`/user/${id}`)\r\n        .then(res => {\r\n            dispatch({\r\n                type: SET_USER,\r\n                payload: res.data,\r\n            })\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nexport const uploadImage = (id, formData) => (dispatch) => {\r\n    dispatch({ type: LOADING_USER });\r\n    axios.post(`/user/image/${id}`, formData)\r\n        .then(res => {\r\n            dispatch(getUserData(id));\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nconst setAuthorizationHeader = (token) => {\r\n    const FBidToken =  `Bearer ${token}`;\r\n    localStorage.setItem('FBidToken', FBidToken);\r\n    axios.defaults.headers.common['Authorization'] = FBidToken;\r\n}","// User reducer types\r\nexport const SET_AUTHENTICATED = 'SET_AUTHENTICATED';\r\nexport const SET_UNAUTHENTICATED = 'SET_UNAUTHENTICATED';\r\nexport const SET_USER = 'SET_USER';\r\nexport const LOADING_USER = 'LOADING_USER';\r\n// UI reducer types\r\nexport const SET_ERRORS = 'SET_ERRORS';\r\nexport const SET_ERRORS_LOGIN = 'SET_ERRORS_LOGIN';\r\nexport const SET_ERRORS_REGISTOR = 'SET_ERRORS_REGISTOR';\r\nexport const LOADING_UI = 'LOADING_UI';\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\nexport const LOADING_DATA = 'LOADING_DATA';\r\nexport const STOP_LOADING_UI = 'STOP_LOADING_UI';\r\n// Data reducer types\r\nexport const SET_RESTAURANTS = 'SET_RESTAURANTS';\r\nexport const SET_RESTAURANT = 'SET_RESTAURANT';\r\nexport const FILTER_RESTAURANTS = 'FILTER_RESTAURANTS';\r\nexport const POST_RESTAURANT = 'POST_RESTAURANT';\r\nexport const DELETE_RESTAURANT = 'DELETE_RESTAURANT';\r\nexport const UPDATE_RESTAURANT = 'UPDATE_RESTAURANT';","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n// MUI\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport { Paper, Typography, Divider, TextField, Button, IconButton } from '@material-ui/core';\r\n// Components\r\nimport Spinner from '../components/Spinner/Spinner';\r\n// Redux stuff\r\nimport { loginUser, registor } from '../redux/actions/userActions';\r\nimport { connect } from 'react-redux';\r\n// Icons\r\nimport {Send as SendIcon, PersonAdd as RegistorIcon, LockOpen as LoginIcon} from '@material-ui/icons';\r\n\r\n// CSS-in-react\r\nconst styles = makeStyles((theme) => ({\r\n    root: {\r\n        background: \"url('https://firebasestorage.googleapis.com/v0/b/mobile-2ef47.appspot.com/o/loginBackground.png?alt=media') center/cover no-repeat\",\r\n        padding: \"5rem\",\r\n        paddingLeft: \"15rem\",\r\n        paddingRight: \"15rem\",\r\n        height: \"95vh\",\r\n        // Change when screen size down 600\r\n        [theme.breakpoints.down('md')]: {\r\n            padding: \"1rem\",\r\n        }\r\n    },\r\n    paper: {\r\n        padding: \"5%\"\r\n    },\r\n    form: {\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n            width: '100%',\r\n          },\r\n        padding: \"5vh\"\r\n    },\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        width:\"20%\",\r\n        marginLeft: \"40%\",\r\n        marginRight: \"40%\",\r\n        // Change when screen size down 600\r\n        [theme.breakpoints.down('md')]: {\r\n            width: \"36%\",\r\n            marginLeft: \"32%\",\r\n            marginRight: \"32%\",\r\n        }\r\n    },\r\n    forgotPass: {\r\n        marginTop: \"-3%\",\r\n    },\r\n    customError: {\r\n        color: \"red\",\r\n        textAlign: \"center\",\r\n        marginTop: 10\r\n    },\r\n    spinner: {\r\n        marginLeft: 0,\r\n        [theme.breakpoints.down('md')]: {\r\n            marginLeft: \"-5%\"\r\n        }\r\n    }\r\n}));\r\n\r\nconst Login = (props) => {\r\n\r\n    // Set states\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [type, setType] = useState('login');\r\n    const [errors, setErrors] = useState({});\r\n    const [flag, setFlag] = useState('Initial render');\r\n\r\n    const classes = styles();\r\n\r\n    // Life cycle to set errors when logining\r\n    useEffect(() => {\r\n        if(flag !== 'Initial render') {\r\n            if(!props.UI.loading){\r\n                if(props.UI.errors !== null) {\r\n                    setErrors({\r\n                        ...errors,\r\n                        login: props.UI.errors\r\n                    });\r\n                } else {\r\n                    // Set state of login to go to home page\r\n                    props.login.setState({\r\n                        ...props.login.state,\r\n                        login: true\r\n                    });\r\n                }\r\n            }\r\n        }   \r\n    }, [props.UI])\r\n\r\n    // Get data from typing\r\n    const handleChange = (event) => {\r\n        if(event.target.value.length > 30) {\r\n            event.target.value = event.target.value.slice(0, 30);\r\n        }\r\n        \r\n        switch(event.target.name) {\r\n            case \"email\": \r\n                setEmail(event.target.value);\r\n                break;\r\n            case \"password\":\r\n                setPassword(event.target.value);\r\n                break;\r\n            case \"confirmPassword\":\r\n                setConfirmPassword(event.target.value);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        setErrors({});\r\n    }\r\n\r\n    const handleRegistor = (e) => {\r\n        e.preventDefault();\r\n        if (email.match(/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/)) {\r\n            if(password) {\r\n                const userData = {\r\n                    email: email,\r\n                    password: password,\r\n                    confirmPassword: confirmPassword\r\n                };\r\n                setFlag('Not initial render');\r\n                props.registor(userData);\r\n            } else {\r\n                setErrors({\r\n                    ...errors,\r\n                    password: 'Password is not empty'\r\n                })\r\n            }\r\n        } else {\r\n            setErrors({\r\n                ...errors,\r\n                email: 'Email is not valid'\r\n            });\r\n        }\r\n    }\r\n\r\n    // Action when submiting\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (email.match(/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/)) {\r\n            if(password) {\r\n                const userData = {\r\n                    email: email,\r\n                    password: password,\r\n                };\r\n                setFlag('Not initial render');\r\n                props.loginUser(userData);\r\n            } else {\r\n                setErrors({\r\n                    ...errors,\r\n                    password: 'Password is not empty'\r\n                })\r\n            }\r\n        } else {\r\n            setErrors({\r\n                ...errors,\r\n                email: 'Email is not valid'\r\n            });\r\n        }\r\n    }\r\n\r\n    // Change login screen or registor screen\r\n    const clickLogin = (e) => {\r\n        e.preventDefault();\r\n        setType(\"login\");\r\n    }\r\n\r\n    const clickRegistor = () => {\r\n        setType(\"registor\");\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Paper className={classes.paper} elevation={3}>\r\n                <Typography variant=\"h4\" \r\n                    align=\"center\">\r\n                        i-Rate\r\n                </Typography>\r\n\r\n                <Typography variant=\"subtitle1\" \r\n                    align=\"center\">\r\n                        Place to rate restaurants\r\n                </Typography>\r\n                \r\n                <Divider/>\r\n\r\n                {/* Login or Registor */}\r\n                {type === \"login\" ? (\r\n                    <>\r\n                        <form className={classes.form} \r\n                            noValidate \r\n                            autoComplete=\"off\">\r\n                            \r\n                            {errors.email ? (\r\n                                <TextField name=\"email\" \r\n                                    error\r\n                                    label=\"Email\" \r\n                                    type=\"email\" \r\n                                    variant=\"outlined\" \r\n                                    helperText={errors.email}\r\n                                    onChange={handleChange}\r\n                                />\r\n                            ) : (\r\n                                <TextField name=\"email\" \r\n                                    label=\"Email\" \r\n                                    type=\"email\" \r\n                                    variant=\"outlined\" \r\n                                    onChange={handleChange}\r\n                                />\r\n                            )}\r\n                            {errors.password ? (\r\n                                <TextField name=\"password\"\r\n                                    error \r\n                                    label=\"Password\" \r\n                                    type=\"password\" \r\n                                    variant=\"outlined\" \r\n                                    helperText={errors.password}\r\n                                    onChange={handleChange}\r\n                                />\r\n                            ) : (\r\n                                <TextField name=\"password\" \r\n                                    label=\"Password\" \r\n                                    type=\"password\" \r\n                                    variant=\"outlined\" \r\n                                    onChange={handleChange}\r\n                                />\r\n                            )}\r\n                            <Button variant=\"contained\"\r\n                                color=\"primary\"\r\n                                type=\"submit\"\r\n                                className={classes.button}\r\n                                endIcon={<SendIcon/>}\r\n                                onClick={handleSubmit}>\r\n                                Login\r\n                            </Button>\r\n                            {errors.login && !errors.email && (\r\n                                <Typography variant=\"body2\" \r\n                                    className={classes.customError}>\r\n                                        {errors.login}\r\n                                </Typography>\r\n                            )}\r\n                            {props.UI.loading && <div className={classes.spinner}> <Spinner/></div>}\r\n                        </form>\r\n\r\n                        <Typography className={classes.forgotPass}\r\n                            variant=\"subtitle1\" \r\n                            align=\"center\">\r\n                                Forgot password? <a href=\"#\">\r\n                                    Click here\r\n                                </a>\r\n                        </Typography>\r\n                        <br/>\r\n                        <Typography variant=\"h6\" \r\n                            align=\"center\">\r\n                            Don't have an account? \r\n                                <IconButton aria-label=\"Registor\"\r\n                                    color=\"primary\" \r\n                                    onClick={clickRegistor}>\r\n                                        <RegistorIcon/>\r\n                                </IconButton>\r\n                        </Typography>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <form className={classes.form} \r\n                            noValidate \r\n                            autoComplete=\"off\">\r\n\r\n                            {errors.email ? (\r\n                                <TextField name=\"email\" \r\n                                    error\r\n                                    label=\"Email\" \r\n                                    type=\"email\" \r\n                                    variant=\"outlined\" \r\n                                    helperText={errors.email}\r\n                                    onChange={handleChange}\r\n                                />\r\n                            ) : (\r\n                                <TextField name=\"email\" \r\n                                    label=\"Email\" \r\n                                    type=\"email\" \r\n                                    variant=\"outlined\" \r\n                                    onChange={handleChange}\r\n                                />\r\n                            )}\r\n\r\n                            {errors.password ? (\r\n                                <TextField name=\"password\"\r\n                                    error \r\n                                    label=\"Password\" \r\n                                    type=\"password\" \r\n                                    variant=\"outlined\" \r\n                                    helperText={errors.password}\r\n                                    onChange={handleChange}\r\n                                />\r\n                            ) : (\r\n                                <TextField name=\"password\" \r\n                                    label=\"Password\" \r\n                                    type=\"password\" \r\n                                    variant=\"outlined\" \r\n                                    onChange={handleChange}\r\n                                />\r\n                            )}\r\n                            <TextField name=\"confirmPassword\" \r\n                                label=\"Confirm password\" \r\n                                type=\"password\" \r\n                                variant=\"outlined\" \r\n                                onChange={handleChange}\r\n                            />\r\n                            <Button variant=\"contained\"\r\n                                color=\"primary\"\r\n                                className={classes.button}\r\n                                endIcon={<RegistorIcon/>}\r\n                                onClick={handleRegistor}\r\n                                type=\"submit\">\r\n                                Registor\r\n                            </Button>\r\n                            {errors.login && !errors.email && (\r\n                                <Typography variant=\"body2\" \r\n                                    className={classes.customError}>\r\n                                        {errors.login}\r\n                                </Typography>\r\n                            )}\r\n                            {props.UI.loading && <div className={classes.spinner}> <Spinner/></div>}\r\n                        </form>\r\n\r\n                        <Typography variant=\"h6\" \r\n                            align=\"center\">\r\n                            Had an account? \r\n                                <IconButton aria-label=\"Login\"\r\n                                    color=\"primary\" \r\n                                    onClick={clickLogin}>\r\n                                        <LoginIcon/>\r\n                                </IconButton>\r\n                        </Typography>\r\n                    </>\r\n                )}\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\n// Check type of data\r\nLogin.propTypes = {\r\n    loginUser: PropTypes.func.isRequired,\r\n    registor: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    UI: PropTypes.object.isRequired\r\n}\r\n\r\n// Get data from redux to props\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    UI: state.UI\r\n});\r\n\r\n// Get action from redux to props\r\nconst mapActionsToProps = {\r\n    loginUser,\r\n    registor\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(Login);\r\n\r\n","import styled from 'styled-components';\r\n\r\nconst StyleBanner = styled.header`\r\n    min-height: 40vh;\r\n    background: url(${props => props.img}) center/cover no-repeat;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nexport default StyleBanner;","import React from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\n// CSS-in-react\r\nconst styles = makeStyles(theme => ({\r\n    banner: {\r\n        margin: 0\r\n    }\r\n}));\r\n\r\nconst Banner = () => {\r\n    const classes = styles();\r\n\r\n    return (\r\n        <div className={classes.banner}>\r\n        \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Banner;","import React from 'react';\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n// CSS-in-react\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    margin: 'auto',\r\n    maxWidth: 500,\r\n    backgroundColor: \"transparent\",\r\n    // Change when screen down 600\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: 400\r\n    },\r\n  },\r\n  image: {\r\n    width: 128,\r\n    height: 128,\r\n    // Change when screen down 600\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n        width: 110,\r\n        height: 110,\r\n    }\r\n  },\r\n  img: {\r\n    margin: 'auto',\r\n    display: 'block',\r\n    maxWidth: '100%',\r\n    maxHeight: '100%',\r\n  },\r\n  content: {\r\n      textAlign: \"justify\"\r\n  },\r\n  contentContainer: {\r\n      marginTop: \"auto\",\r\n      marginBottom: \"auto\"\r\n  }\r\n}));\r\n\r\nconst HomeDescriptionItem = ({ content, img, direction }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      <Paper className={classes.paper} \r\n        elevation={0}>\r\n\r\n          <Grid container \r\n            spacing={2} \r\n            direction={direction}>\r\n\r\n              <Grid item \r\n                xs={12} sm={5} \r\n                align=\"center\">\r\n                  {img}\r\n              </Grid>\r\n\r\n              <Grid item \r\n                xs={12} sm={7}  \r\n                className={classes.contentContainer}>\r\n                    <Typography variant=\"body2\" \r\n                      className={classes.content}>\r\n                        {content}\r\n                    </Typography>\r\n              </Grid>\r\n\r\n          </Grid>\r\n          \r\n      </Paper>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomeDescriptionItem;","import React from 'react';\r\n// MUI\r\nimport {Grid} from '@material-ui/core';\r\n// Components\r\nimport HomeDescriptionItem from './HomeDescriptionItem';\r\n// Icons\r\nimport RoomIcon from \"@material-ui/icons/Room\";\r\nimport PaymentIcon from \"@material-ui/icons/Payment\";\r\nimport ForumIcon from \"@material-ui/icons/Forum\";\r\n\r\nconst dataSet = {\r\n    data:[\r\n        {\r\n            content: \"Lorem ipsum dolor, it amet consectetur adipisicing elit. Ipsam voluptas sapiente, deserunt minima laudantium possimus.\",\r\n            img: <RoomIcon style={{width: 100, height: 100}}/>,\r\n            direction: \"row\"\r\n        },\r\n        {\r\n            content: \"Lorem ipsum dolor, sit amet consecttur adipisicing elit. Ipsam voluptas sapiente, deserunt minima laudantium possimus.\",\r\n            img: <PaymentIcon style={{width: 100, height: 100}}/>,\r\n            direction: \"row\"\r\n        },\r\n        {\r\n            content: \"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ipsam voluptas sapiente, deserunt minima laudantium possimus.\",\r\n            img: <ForumIcon style={{width: 100, height: 100}}/>,\r\n            direction: \"row\"\r\n        },\r\n    ]\r\n}\r\n\r\nconst HomeDescription = () => {\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                    {dataSet.data.map(item => (\r\n                        <Grid item \r\n                            xs={12} lg={4} \r\n                            key={item.content}>\r\n                                <HomeDescriptionItem content={item.content} \r\n                                    direction={item.direction} \r\n                                    img={item.img}\r\n                                />\r\n                        </Grid>\r\n                    ))}\r\n            </Grid>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default HomeDescription;\r\n","import React, { useEffect } from 'react';\r\n\r\n// MUI\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nconst AlertDialog = ({action, description, title, type, parent}) => {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n\r\n    if(type === \"update\") {\r\n        parent.setState({\r\n            ...parent.state,\r\n            submit: false\r\n        })\r\n    }\r\n  };\r\n\r\n  const handleYes = () => {\r\n    action();\r\n  }\r\n\r\n  useEffect(() => {\r\n      if(type === \"update\") {\r\n          setOpen(true);\r\n      }\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n        {type === \"delete\" ? (\r\n            <>\r\n                <Tooltip title=\"Delete\" placement=\"top\">\r\n                    <IconButton aria-label=\"delete\" \r\n                        color=\"secondary\" \r\n                        onClick={handleClickOpen}\r\n                        style={{width: \"15%\"}}>\r\n                        <DeleteIcon />\r\n                    </IconButton>\r\n                </Tooltip>\r\n                <Dialog\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-title\" style={{color: \"red\"}} >{title}</DialogTitle>\r\n                    <DialogContent> \r\n                    <DialogContentText id=\"alert-dialog-description\" style={{color: \"black\"}}>\r\n                        {description}\r\n                    </DialogContentText>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        No\r\n                    </Button>\r\n                    <Button onClick={handleYes} color=\"secondary\" autoFocus>\r\n                        Yes\r\n                    </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </>\r\n        ) : (\r\n            <Dialog\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-title\" style={{color: \"red\"}}>{title}</DialogTitle>\r\n                    <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\" style={{color: \"black\"}}>\r\n                        {description}\r\n                    </DialogContentText>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        No\r\n                    </Button>\r\n                    <Button onClick={handleYes} color=\"secondary\" autoFocus>\r\n                        Yes\r\n                    </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n        )}    \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AlertDialog;","import React, { useState, useEffect } from 'react';\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {TextField} from '@material-ui/core';\r\n\r\n\r\n// CSS-in-react\r\nconst useStyles = makeStyles((theme) => ({\r\n    map: {\r\n        height: \"300px\",\r\n        marginTop: \"100px\"\r\n    }\r\n}));\r\n\r\nconst google = window.google;\r\n\r\nconst AutoAddress = ({ parent, address }) => {\r\n\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        initMap();\r\n    });\r\n\r\n    // Google places address\r\n    function initMap() {\r\n        let map;\r\n        if(address) {\r\n          map = new google.maps.Map(document.getElementById(\"map\"), {\r\n            center: { lat: address.lat, lng: address.lng },\r\n            zoom: 13,\r\n          });\r\n        } else {\r\n          map = new google.maps.Map(document.getElementById(\"map\"), {\r\n            center: { lat: -33.8688, lng: 151.2195 },\r\n            zoom: 13,\r\n          });\r\n        }\r\n       \r\n        const card = document.getElementById(\"pac-card\");\r\n        const input = document.getElementById(\"pac-input\");\r\n        map.controls[google.maps.ControlPosition.TOP_RIGHT].push(card);\r\n        const autocomplete = new google.maps.places.Autocomplete(input);\r\n        // Bind the map's bounds (viewport) property to the autocomplete object,\r\n        // so that the autocomplete requests use the current map bounds for the\r\n        // bounds option in the request.\r\n        autocomplete.bindTo(\"bounds\", map);\r\n        // Set the data fields to return when the user selects a place.\r\n        autocomplete.setFields([\"address_components\", \"geometry\", \"icon\", \"name\"]);\r\n        const infowindow = new google.maps.InfoWindow();\r\n        const infowindowContent = document.getElementById(\"infowindow-content\");\r\n        infowindow.setContent(infowindowContent);\r\n        let marker;\r\n        if(address) {\r\n          marker = new google.maps.Marker({\r\n            map,\r\n            anchorPoint: new google.maps.Point(0, -29),\r\n            position: { lat: address.lat, lng: address.lng}\r\n          });\r\n        } else {\r\n          marker = new google.maps.Marker({\r\n            map,\r\n            anchorPoint: new google.maps.Point(0, -29),\r\n          });\r\n        }\r\n        autocomplete.addListener(\"place_changed\", () => {\r\n          infowindow.close();\r\n          marker.setVisible(false);\r\n          const place = autocomplete.getPlace();\r\n\r\n          if (!place.geometry) {\r\n            // User entered the name of a Place that was not suggested and\r\n            // pressed the Enter key, or the Place Details request failed.\r\n            window.alert(\"No details available for input: '\" + place.name + \"'\");\r\n            return;\r\n          }\r\n\r\n          // If the place has a geometry, then present it on a map.\r\n          if (place.geometry.viewport) {\r\n            map.fitBounds(place.geometry.viewport);\r\n          } else {\r\n            map.setCenter(place.geometry.location);\r\n            map.setZoom(17); // Why 17? Because it looks good.\r\n          }\r\n          marker.setPosition(place.geometry.location);\r\n          marker.setVisible(true);\r\n\r\n          let address = \"\";\r\n\r\n          if (place.address_components) {\r\n            address = [\r\n              (place.address_components[0] &&\r\n                place.address_components[0].short_name) ||\r\n                \"\",\r\n              (place.address_components[1] &&\r\n                place.address_components[1].short_name) ||\r\n                \"\",\r\n              (place.address_components[2] &&\r\n                place.address_components[2].short_name) ||\r\n                \"\",\r\n            ].join(\" \");\r\n          }\r\n          infowindowContent.children[\"place-icon\"].src = place.icon;\r\n          infowindowContent.children[\"place-name\"].textContent = place.name;\r\n          infowindowContent.children[\"place-address\"].textContent = address;\r\n          infowindow.open(map, marker);\r\n\r\n          parent.setState({\r\n            ...parent.state,\r\n            address: { \r\n              name: input.value,\r\n              lat: marker.getPosition().lat(),\r\n              lng: marker.getPosition().lng()\r\n            }\r\n          })\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n              <TextField \r\n                  name=\"address\" \r\n                  label=\"3. Address\" \r\n                  variant=\"standard\"  \r\n                  id=\"pac-input\"\r\n                  className={classes.content}\r\n                  placeholder={address.name && address.name}\r\n              />\r\n            <div id=\"map\" className={classes.map}></div>\r\n            <div id=\"infowindow-content\">\r\n                <img src=\"\" width=\"16\" height=\"16\" id=\"place-icon\" />\r\n                <span id=\"place-name\" className=\"title\"></span><br />\r\n                <span id=\"place-address\"></span>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AutoAddress;","import { SET_RESTAURANTS, SET_RESTAURANT, FILTER_RESTAURANTS, DELETE_RESTAURANT, UPDATE_RESTAURANT, POST_RESTAURANT, \r\n    LOADING_DATA, STOP_LOADING_UI, LOADING_UI, SET_ERRORS, CLEAR_ERRORS } from '../types';\r\nimport axios from 'axios';\r\n\r\n// // Get all restaurants\r\nexport const getRestaurants = () => (dispatch) => {\r\n    dispatch({ type: LOADING_DATA });\r\n    axios.get('/restaurants')\r\n        .then(res => {\r\n            dispatch({\r\n                type: SET_RESTAURANTS,\r\n                payload: res.data\r\n            })\r\n            dispatch({ type: STOP_LOADING_UI });\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: SET_RESTAURANTS,\r\n                payload: []\r\n            })\r\n        })\r\n}\r\n\r\n// Post a restaurant\r\nexport const postRestaurant = (newData) => (dispatch) => {\r\n    dispatch({ type: LOADING_DATA });\r\n    axios.post('/restaurant', newData)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            dispatch({\r\n                type: POST_RESTAURANT,\r\n                payload: res.data\r\n            })\r\n            dispatch(clearErrors())\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: SET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        })\r\n}\r\n\r\n// Delete a restaurant\r\nexport const deleteRestaurant = (id) => (dispatch) => {\r\n    dispatch({ type: LOADING_DATA });\r\n    axios.get(`/restaurant/delete/${id}`)\r\n        .then(() => {\r\n            dispatch({ type: DELETE_RESTAURANT, payload: id })\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\n//Update a restaurant\r\nexport const updateRestaurant = (id, newData) => (dispatch) => {\r\n    dispatch({ type: LOADING_DATA });\r\n    axios.patch(`/restaurant/${id}`, newData)\r\n        .then(res => {\r\n            const result = {\r\n                restaurant : {\r\n                    ...res.data.restaurant,\r\n                    id: id,\r\n                },\r\n                message: \"Update successfully!\"\r\n            }\r\n            dispatch({\r\n                type: UPDATE_RESTAURANT,\r\n                payload: result\r\n            })\r\n            dispatch(clearErrors())\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: SET_ERRORS,\r\n                payload: \"Update failed!\"\r\n            })\r\n        })  \r\n}\r\n\r\n//Filter\r\nexport const filter = (constraint) => (dispatch) => {\r\n    dispatch({ type: LOADING_DATA });\r\n    axios.get(`/restaurantsFilter/${constraint}`)\r\n        .then(res => {\r\n            dispatch({\r\n                type: FILTER_RESTAURANTS,\r\n                payload: res.data\r\n            })\r\n            dispatch({ type: STOP_LOADING_UI });\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: FILTER_RESTAURANTS,\r\n                payload: []\r\n            })\r\n        })\r\n}\r\n\r\n// Load image\r\nexport const uploadImage = (formData, id) => (dispatch) => {\r\n    dispatch({ type: LOADING_UI });\r\n    axios.post(`/restaurant/image/${id}`, formData)\r\n        .then(res => {\r\n            dispatch(getOne(id));\r\n            dispatch({ type: STOP_LOADING_UI });\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nexport const getOne = (id) => (dispatch) => {\r\n    dispatch({ type: LOADING_DATA });\r\n    axios.get(`/restaurant/${id}`)\r\n        .then(res => {\r\n            dispatch({\r\n                type: SET_RESTAURANT,\r\n                payload: res.data\r\n            });\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nexport const clearErrors = () => (dispatch) => {\r\n    dispatch({ type: CLEAR_ERRORS });\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n// MUI\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {TextField, Button, CardMedia, Typography } from '@material-ui/core';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Box from '@material-ui/core/Box';\r\n// Components\r\nimport Spinner from '../Spinner/Spinner';\r\nimport AlertDialog from '../AlertDialog/AlertDialog';\r\nimport AutoAddress from '../Autocomplete/AutoAddress';\r\n// Redux stuff\r\nimport { getOne, uploadImage, updateRestaurant } from '../../redux/actions/dataAction';\r\nimport { connect } from 'react-redux';\r\n\r\nconst labels = {\r\n    0: 'Very bad',\r\n    1: 'Bad',\r\n    2: 'Need to improve',\r\n    3: 'Normal',\r\n    4: 'Good',\r\n    5: 'Excellent',\r\n  };  \r\n\r\n// CSS-in-react\r\nconst styles = (theme) => ({\r\n  form: {\r\n    '& > *': {\r\n      margin: theme.spacing(0.5),\r\n      width: '100%',\r\n    },\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '45%',\r\n  },\r\n  labelRating: {\r\n    fontSize: \"1rem\",\r\n  },\r\n  resultRating: {\r\n    fontWeight: \"bold\"\r\n  },\r\n  contentRating: {\r\n    display: \"flex\",\r\n    paddingLeft: \"1em\"\r\n  }\r\n});\r\n\r\nclass FormUpdate extends Component {\r\n    \r\n    state = {\r\n        name: \"\",\r\n        type: \"\",\r\n        visitDate: \"\",\r\n        price: 0,\r\n        reporter: \"\",\r\n        notes: \"Empty\",\r\n        message: \"\",\r\n        url: null,\r\n        uploadedImage: null,\r\n        errors: {},\r\n        valueService: 0,\r\n        hoverService: -1,\r\n        valueCleanliness: 0,\r\n        hoverCleanliness: -1,\r\n        valueFood: 0,\r\n        hoverFood: -1,\r\n        submit: false,\r\n        address: \"\"\r\n    }\r\n\r\n    // Set data initially\r\n    componentDidMount() {\r\n        const {restaurant} = this.props;\r\n        let positionRating = {};\r\n        for(var i = 0; i < 6; i++) {\r\n            if (restaurant.serviceRating === labels[i]) {\r\n                positionRating.service = i;\r\n            }\r\n            if (restaurant.cleanlinessRating === labels[i]) {\r\n                positionRating.cleanliness = i;\r\n            }\r\n            if (restaurant.foodQualityRating === labels[i]) {\r\n                positionRating.food = i;\r\n            }\r\n\r\n            if(i === 5) {\r\n                this.setState({\r\n                    ...this.state,\r\n                    name: restaurant.name,\r\n                    type: restaurant.type,\r\n                    visitDate: restaurant.visitDate,\r\n                    price: restaurant.price,\r\n                    reporter: restaurant.reporter,\r\n                    notes: restaurant.notes,\r\n                    url: restaurant.url,\r\n                    valueService: positionRating.service,\r\n                    hoverService: positionRating.service,\r\n                    valueCleanliness: positionRating.cleanliness,\r\n                    hoverCleanliness: positionRating.cleanliness,\r\n                    valueFood: positionRating.food,\r\n                    hoverFood: positionRating.food,\r\n                    address: restaurant.address\r\n                });\r\n            }\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    // Get data from typing\r\n    handleChange = (event) => {\r\n        if(event.target.value.length > 30) {\r\n            event.target.value = event.target.value.slice(0, 30);\r\n\r\n            this.setState({\r\n                ...this.state,\r\n                [event.target.name] : event.target.value\r\n            });\r\n        } else {\r\n            this.setState({\r\n                ...this.state,\r\n                [event.target.name] : event.target.value\r\n            });\r\n        }\r\n    }\r\n\r\n    // Handle change rating\r\n    handleChangeRating = (event, newValue) => {\r\n        if(newValue) {\r\n            switch(event.target.name) {\r\n                case \"serviceRating\":\r\n                    this.setState({\r\n                        ...this.state,\r\n                        valueService: newValue\r\n                    });\r\n                    break;\r\n                case \"cleanlinessRating\": \r\n                    this.setState({\r\n                        ...this.state,\r\n                        valueCleanliness: newValue\r\n                    });\r\n                    break;\r\n                case \"foodQualityRating\":\r\n                    this.setState({\r\n                        ...this.state,\r\n                        valueFood: newValue\r\n                    });\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    // Handle change active rating\r\n    handleChangeActive = (event, newHover) => {\r\n        if(newHover !== -1) {\r\n            switch(event.target.name) {\r\n                case \"serviceRating\":\r\n                    this.setState({\r\n                        ...this.state,\r\n                        hoverService: newHover\r\n                    });\r\n                    break;\r\n                case \"cleanlinessRating\": \r\n                    this.setState({\r\n                        ...this.state,\r\n                        hoverCleanliness: newHover\r\n                    });\r\n                    break;\r\n                case \"foodQualityRating\":\r\n                    this.setState({\r\n                        ...this.state,\r\n                        hoverFood: newHover\r\n                    });\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }    \r\n\r\n    // Handle uploading\r\n    handleUpload = (e) => {\r\n        e.preventDefault();\r\n        const image = e.target.files[0];\r\n        this.setState({\r\n            ...this.state,\r\n            uploadedImage: image\r\n        })\r\n    }\r\n\r\n    // Handle submitting\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            submit: true\r\n        })\r\n    }\r\n    \r\n    handleUpdate = () => {\r\n\r\n        let errors = {};\r\n        // Check constraints\r\n        // TODO: create function\r\n        if(this.state.name === \"\") {\r\n            errors.name = \"Name is required!\"\r\n        } else \r\n        if(this.state.type === \"\") {\r\n            errors.type = \"Type is required!\"\r\n        }\r\n        if(this.state.visitDate === \"\") {\r\n            errors.visitDate = \"Visited date is required!\"\r\n        }\r\n        if(this.state.serviceRating === \"\") {\r\n            errors.serviceRating = \"Service rating is required!\"\r\n        }\r\n        if(this.state.cleanlinessRating === \"\") {\r\n            errors.cleanlinessRating = \"Cleanliness rating is required!\"\r\n        }\r\n        if(this.state.foodQualityRating === \"\") {\r\n            errors.foodQualityRating = \"Food quality rating is required!\"\r\n        }\r\n        if(this.state.price === 0) {\r\n            errors.price = \"Price is required!\"\r\n        }\r\n        if(this.state.reporter === \"\") {\r\n            errors.reporter = \"Reporter is required!\"\r\n        }\r\n\r\n        if(errors.type || errors.name || errors.price || errors.reporter || errors.visitDate ||\r\n            errors.serviceRating || errors.cleanlinessRating || errors.foodQualityRating){\r\n            this.setState({\r\n                ...this.state,\r\n                errors\r\n            })\r\n        } else {\r\n            const totalRating = Math.round((this.state.valueService + this.state.valueFood + this.state.valueCleanliness) / 3);\r\n\r\n            const updateData = {\r\n                name: this.state.name,\r\n                type: this.state.type,\r\n                visitDate: this.state.visitDate,\r\n                serviceRating: labels[this.state.valueService],\r\n                cleanlinessRating: labels[this.state.valueCleanliness],\r\n                foodQualityRating: labels[this.state.valueFood],\r\n                totalRating: labels[totalRating],\r\n                price: this.state.price,\r\n                reporter: this.props.user.credentials.email,\r\n                notes: this.state.notes,\r\n                address: this.state.address,\r\n                url: this.state.url\r\n            };\r\n\r\n            // Check if user change image\r\n            if(this.state.uploadedImage !== null) {\r\n                const formData = new FormData();\r\n                formData.append('image', this.state.uploadedImage, this.state.uploadedImage.name);\r\n                this.props.uploadImage(formData, this.props.restaurant.id);\r\n                this.props.history.push(\"/home\");\r\n            }\r\n           \r\n            // Start updating\r\n            this.props.updateRestaurant(this.props.restaurant.id, updateData);\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n\r\n        // Check if data load completely\r\n        if(this.props.data.loading) {\r\n            return (\r\n                <Spinner/>\r\n            )\r\n        } else {\r\n            return (\r\n                <>\r\n                {this.props.data.message === \"Update successfully!\" && <Typography variant=\"h5\" align=\"center\" color=\"secondary\">{this.props.data.message}</Typography>}\r\n                <form className={classes.form} \r\n                    noValidate \r\n                    autoComplete=\"off\" \r\n                    onSubmit={this.handleSubmit}>\r\n                         {this.state.errors.name ? (\r\n                            <TextField error \r\n                                name=\"name\" \r\n                                helperText={this.state.errors.name} \r\n                                required label=\"1. Name\" \r\n                                variant=\"standard\" \r\n                                onChange={this.handleChange}    \r\n                            />\r\n                        ) : (\r\n                            <TextField name=\"name\" \r\n                                required \r\n                                label=\"1. Name\" \r\n                                variant=\"standard\" \r\n                                onChange={this.handleChange}\r\n                                value={this.state.name}\r\n                            />\r\n                        )}\r\n\r\n                        {this.state.errors.type ? (\r\n                            <TextField name=\"type\" \r\n                                error \r\n                                helperText={this.state.errors.type} \r\n                                required \r\n                                label=\"2. Type\" \r\n                                variant=\"standard\" \r\n                                onChange={this.handleChange} \r\n                                value={this.state.type}\r\n                            />\r\n                        ) : (\r\n                            <TextField name=\"type\" \r\n                                required \r\n                                label=\"2. Type\" \r\n                                variant=\"standard\" \r\n                                onChange={this.handleChange} \r\n                                value={this.state.type}\r\n                            />\r\n                        )}\r\n\r\n                        <AutoAddress parent={this} address={this.state.address}/>\r\n\r\n                        {this.state.errors.visitDate ? (\r\n                            <TextField error \r\n                                name=\"visitDate\" \r\n                                helperText={this.state.errors.visitDate} \r\n                                required \r\n                                label=\"3. Visited date\" \r\n                                variant=\"standard\"  \r\n                                onChange={this.handleChange}\r\n                                type=\"date\"\r\n                            />\r\n                        ) : (\r\n                            <TextField name=\"visitDate\" \r\n                                required \r\n                                label=\"3. Visited date\" \r\n                                variant=\"standard\"  \r\n                                onChange={this.handleChange}\r\n                                value={this.state.visitDate}\r\n                                type=\"date\"\r\n                            />\r\n                        )}\r\n\r\n                        {this.state.errors.price ? (\r\n                            <TextField name=\"price\" \r\n                                error \r\n                                helperText={this.state.errors.price}  \r\n                                type=\"number\" \r\n                                required \r\n                                label=\"4. Price\" \r\n                                variant=\"standard\"  \r\n                                onChange={this.handleChange} \r\n                                value={this.state.price}\r\n                            />\r\n                        ) : (\r\n                            <TextField name=\"price\" \r\n                                type=\"number\" \r\n                                required \r\n                                label=\"4. Price\" \r\n                                variant=\"standard\"  \r\n                                onChange={this.handleChange} \r\n                                value={this.state.price}\r\n                            />\r\n                        )}\r\n\r\n                        {this.state.errors.reporter ? (\r\n                            <TextField name=\"reporter\" \r\n                                error \r\n                                helperText={this.state.errors.reporter} \r\n                                required \r\n                                label=\"5. Reporter\" \r\n                                variant=\"standard\"  \r\n                                onChange={this.handleChange} \r\n                                value={this.state.reporter}\r\n                            />\r\n                        ) : (\r\n                            <TextField name=\"reporter\" \r\n                                required \r\n                                label=\"5. Reporter\" \r\n                                variant=\"standard\"  \r\n                                onChange={this.handleChange} \r\n                                value={this.state.reporter}\r\n                            />\r\n                        )}\r\n\r\n                        <TextField name=\"notes\" \r\n                            label=\"6. Notes\" \r\n                            variant=\"standard\"  \r\n                            onChange={this.handleChange} \r\n                            value={this.state.notes && this.state.notes}                           \r\n                        />\r\n\r\n                        <label htmlFor=\"serviceRating\" className={classes.labelRating}>\r\n                            7. Service rating: \r\n                        </label>\r\n                        <span className={classes.contentRating}>\r\n                            <Rating\r\n                                name=\"serviceRating\"\r\n                                value={this.state.valueService}\r\n                                precision={1}\r\n                                onChange={this.handleChangeRating}\r\n                                onChangeActive={this.handleChangeActive}\r\n                            />\r\n                            {this.state.valueService !== null && \r\n                                <Box ml={2} className={classes.resultRating}>\r\n                                    {labels[this.state.hoverService !== -1 ? \r\n                                        this.state.hoverService : \r\n                                        this.state.valueService]}\r\n                                </Box>\r\n                            }\r\n                        </span>\r\n\r\n                        <label htmlFor=\"cleanlinessRating\" className={classes.labelRating}>\r\n                            8. Cleanliness rating: \r\n                        </label>\r\n                        <span className={classes.contentRating}>\r\n                            <Rating\r\n                                name=\"cleanlinessRating\"\r\n                                value={this.state.valueCleanliness}\r\n                                precision={1}\r\n                                onChange={this.handleChangeRating}\r\n                                onChangeActive={this.handleChangeActive}\r\n                            />\r\n                            {this.state.valueCleanliness !== null && \r\n                                <Box ml={2} className={classes.resultRating}>\r\n                                    {labels[this.state.hoverCleanliness !== -1 ? \r\n                                        this.state.hoverCleanliness : \r\n                                        this.state.valueCleanliness]}\r\n                                </Box>\r\n                            }\r\n                        </span>\r\n                        \r\n                        <label htmlFor=\"foodQualityRating\" className={classes.labelRating}>\r\n                            9. Food quality rating: \r\n                        </label>\r\n                        <span className={classes.contentRating}>\r\n                            <Rating\r\n                                name=\"foodQualityRating\"\r\n                                value={this.state.valueFood}\r\n                                precision={1}\r\n                                onChange={this.handleChangeRating}\r\n                                onChangeActive={this.handleChangeActive}\r\n                            />\r\n                            {this.state.valueFood !== null && \r\n                                <Box ml={2} className={classes.resultRating}>\r\n                                    {labels[this.state.hoverFood !== -1 ? \r\n                                        this.state.hoverFood : \r\n                                        this.state.valueFood]}\r\n                                </Box>\r\n                            }\r\n                        </span>\r\n\r\n                        {this.state.url !== null && (\r\n                            <CardMedia\r\n                                className={classes.media}\r\n                                image={this.state.url}\r\n                                onClick={this.handleMediaClick}\r\n                            />\r\n                        )}\r\n\r\n                        <TextField type=\"file\" \r\n                            name=\"image\" \r\n                            onChange={this.handleUpload}\r\n                        />\r\n\r\n                        <Button type=\"submit\" \r\n                            variant=\"contained\" \r\n                            color=\"primary\">\r\n                                Update\r\n                        </Button>\r\n                        {/* Message and spinner */}\r\n                        {this.props.data.loading && <Spinner/>}\r\n                        {this.props.UI.errors && \r\n                            <h2>\r\n                                Update failed!\r\n                            </h2>}\r\n\r\n                </form>\r\n                \r\n                {this.state.submit === true && (\r\n                     <AlertDialog parent={this} action={this.handleUpdate.bind(this)} description=\"Do you want to update this rating?\" title=\"Update alert!!!\" type=\"update\" />\r\n                )}\r\n                </>\r\n            );\r\n        }\r\n    }\r\n}\r\n// Check type of data\r\nFormUpdate.propTypes = {\r\n    uploadImage: PropTypes.func.isRequired,\r\n    getOne: PropTypes.func.isRequired,\r\n    updateRestaurant: PropTypes.func.isRequired,\r\n    UI: PropTypes.object.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    data: PropTypes.object.isRequired\r\n}\r\n// Get data from redux to props\r\nconst mapStateToProps = (state) => ({\r\n    UI: state.UI,\r\n    user: state.user,\r\n    data: state.data\r\n});\r\n// Get action from redux to props\r\nconst mapActionsToProps = {\r\n    getOne,\r\n    updateRestaurant,\r\n    uploadImage,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(FormUpdate));","import React, {useState} from 'react';\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport { Tooltip, IconButton, Typography } from '@material-ui/core';\r\n// Components\r\nimport FormUpdate from '../Forms/FormUpdate';\r\n// Icon\r\nimport UpdateIcon from '@material-ui/icons/Update';\r\n\r\n// CSS-in-react\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 500,\r\n    height: 700,\r\n    overflow: \"scroll\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: `translate(-50%, -50%)`,\r\n    // Change when screen dowm 960\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      width: 300,\r\n      height: 500,\r\n    }\r\n  },\r\n  addIcon: {\r\n    width: \"60%\",\r\n    height: \"60%\",\r\n    margin: \"20%\"\r\n  }\r\n}));\r\n\r\nconst ModalUpdate = ({restaurant, history}) => {\r\n  const classes = useStyles();\r\n  //Set state\r\n  const [open, setOpen] = useState(false);\r\n\r\n  // Close and open modal\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  // Modal body\r\n  const body = (\r\n    <div className={classes.paper}>\r\n      <Typography variant=\"h4\" \r\n        align=\"center\">\r\n          Update an apartment\r\n        </Typography>\r\n      <FormUpdate restaurant={restaurant} history={history}/>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Tooltip title=\"Update and note\" placement=\"top\">\r\n        <IconButton aria-label=\"update\" \r\n          color=\"primary\" \r\n          onClick={handleOpen} style={{width: \"15%\"}}>\r\n            <UpdateIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      \r\n      <Modal\r\n        style={{zIndex: 3}}\r\n        open={open}\r\n        onClose={handleClose}>\r\n          {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ModalUpdate;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Passers,\r\n  share, \r\n  P\r\n} from \"prop-passer\";\r\n\r\nimport {\r\n  FacebookShareButton,\r\n  EmailShareButton,\r\n  FacebookIcon,\r\n  EmailIcon\r\n} from \"react-share\"; \r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\", \r\n    display: \"flex\", \r\n    position: \"absolute\", \r\n    justifyContent: \"flex-end\", \r\n    paddingRight: \"4%\", \r\n    marginTop: \"-15%\"\r\n  },\r\n  [theme.breakpoints.only(\"sm\")]: {\r\n    root: {\r\n      marginTop: \"-10%\"\r\n    }\r\n  },\r\n  emailIcon: {\r\n    marginLeft: \"20%\"\r\n  }\r\n}));\r\n\r\nconst SocialShare = (props) => {\r\n  const { title, url } = props;\r\n\r\n  const classes = useStyles();\r\n\r\n  const ShareList = Passers(\r\n    share(\r\n      <P\r\n        url={url}\r\n        className=\"network__share-button\"\r\n      />\r\n    )\r\n  )({ className: \"network\" })(\"li\");\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ShareList>\r\n        <FacebookShareButton quote={title}>\r\n          <FacebookIcon\r\n            size={\"1.5rem\"}\r\n            round\r\n          />\r\n        </FacebookShareButton>\r\n\r\n        <EmailShareButton subject={title} body=\"body\" className={classes.emailIcon}>\r\n          <EmailIcon size={\"1.5rem\"} round />\r\n        </EmailShareButton>\r\n      </ShareList>\r\n    </div>\r\n  );\r\n}\r\n\r\nSocialShare.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  url: PropTypes.string.isRequired\r\n};\r\n\r\nexport default SocialShare;\r\n","import React, {useState} from 'react';\r\n// Date handler\r\nimport moment from 'moment';\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\n// Components\r\nimport ModalUpdate from '../Modals/ModalUpdate';\r\nimport AlertDialog from '../AlertDialog/AlertDialog';\r\n// icons\r\nimport SocialShare from '../SocialShare/SocialShare';\r\n\r\n// CSS-in-react\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: \"500px\",\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n    position: \"relative\"\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  cardActions: {\r\n    justifyContent: \"flex-end\"\r\n  },\r\n  cardContent: {\r\n    height: \"230px\"\r\n  }\r\n}));\r\n\r\nconst CardRestaurant = ({restaurant, flag, deleteRestaurant, history}) => {\r\n\r\n  const classes = useStyles();\r\n\r\n  const [url, setUrl] = useState(`${restaurant.url}`); //Change url share here\r\n  const [title, setTitle] = useState('');\r\n\r\n  // Delete apartment\r\n  const handleDelete = () => {\r\n    deleteRestaurant(restaurant.id);\r\n  }\r\n\r\n  // Check apartment card shows for which page\r\n  if(restaurant) {\r\n    return (\r\n      <Card className={classes.root} \r\n        raised>\r\n        {/* Header */}\r\n        <CardHeader\r\n          avatar={\r\n            <Avatar src=\"https://firebasestorage.googleapis.com/v0/b/mobile-2ef47.appspot.com/o/avatar.png?alt=media\"/>\r\n          }\r\n          title={restaurant.name}\r\n          subheader={moment(restaurant.dateCreate).format('DD/MM/YYYY')}\r\n        />\r\n        <SocialShare url={url} title={title}/>\r\n        {/* Picture */}\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={restaurant.url}\r\n        />\r\n        {/* Content */}\r\n        <CardContent className={classes.cardContent}>\r\n\r\n          <Typography variant=\"h6\">\r\n            Details\r\n          </Typography>\r\n            \r\n          <Typography variant=\"subtitle1\">\r\n          &nbsp; Type: {restaurant.type}\r\n          </Typography>\r\n\r\n          <Typography variant=\"subtitle1\">\r\n          &nbsp; Visited date: {moment(restaurant.visitDate).format('DD/MM/YYYY')}\r\n          </Typography>\r\n\r\n          <Typography variant=\"subtitle1\">\r\n          &nbsp; Price: {restaurant.price}\r\n          </Typography>\r\n\r\n          <Typography variant=\"subtitle1\">\r\n          &nbsp; Total rating: {restaurant.totalRating}\r\n          </Typography>\r\n    \r\n          <Typography variant=\"subtitle1\">\r\n          &nbsp; Reporter: {restaurant.reporter}\r\n          </Typography>\r\n          \r\n          {restaurant.notes !== \"Empty\" && (\r\n            <Typography variant=\"subtitle2\" \r\n              color=\"secondary\">\r\n                &nbsp;<i>*Note: {restaurant.notes}</i>\r\n            </Typography>\r\n          )}\r\n\r\n        </CardContent>\r\n\r\n        {/* Actions */}\r\n        {flag === \"restaurants\" && (\r\n          <CardActions className={classes.cardActions} \r\n                disableSpacing>\r\n\r\n            {/* <SocialShare url={url} title={title}/> */}\r\n\r\n            <ModalUpdate restaurant={restaurant} history={history}/>\r\n\r\n            \r\n            <AlertDialog action={handleDelete.bind(this)} type=\"delete\" description=\"Do you want to delete this rating?\" title=\"Delete alert!!!\"/>\r\n\r\n          </CardActions>\r\n        )}\r\n      </Card>\r\n    );\r\n  } else {\r\n    return (\r\n      <>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CardRestaurant;","import React from 'react';\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Grid, Typography} from '@material-ui/core';\r\n// Components\r\nimport CardRestaurant from \"../CardRestaurant/CardRestaurant\";\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\n// CSS-in-react\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        margin: \"2%\"\r\n    },\r\n    hover: {\r\n        '&:hover': {\r\n            opacity: 0.8,\r\n          }\r\n    },\r\n    container: {\r\n        maxHeight: \"1000px\",\r\n        width: \"90%\",\r\n        marginLeft: \"5%\",\r\n        marginRight: \"5%\",\r\n        overflow: \"auto\",\r\n    }\r\n  }));\r\n  \r\nconst HomeRestaurant = (props) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Typography variant=\"h4\" \r\n                align=\"center\">\r\n                    New rating restaurant\r\n            </Typography>\r\n            <br/>\r\n            <Grid container \r\n                className={classes.container} \r\n                spacing={3} \r\n                alignItems=\"center\">\r\n                    {props.loading && <Spinner/>}\r\n                    {/* Show restaurants */}\r\n                    {props.restaurants.map ? props.restaurants.map(restaurant => (\r\n                        <Grid item \r\n                            xs={12} md={6} lg={4}   \r\n                            className={classes.hover} \r\n                            key={restaurant.id}>\r\n                                <CardRestaurant restaurant={restaurant} \r\n                                    flag=\"home\"\r\n                                />\r\n                        </Grid>\r\n                    )) : (\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" align=\"center\">\r\n                                No existed rating restaurant \r\n                            </Typography>\r\n                        </Grid>\r\n                    )}\r\n            </Grid>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default HomeRestaurant;\r\n","import React from 'react';\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Grid, Typography} from '@material-ui/core';\r\n// Components\r\nimport CardRestaurant from \"../CardRestaurant/CardRestaurant\";\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\n// CSS-in-react\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: \"#3f51b5\",\r\n        padding: \"2%\"\r\n    },\r\n    hover: {\r\n        '&:hover': {\r\n            opacity: 0.8,\r\n          }\r\n    },\r\n    title: {\r\n        color: \"white\"\r\n    },\r\n    container: {\r\n        maxHeight: \"1000px\",\r\n        width: \"90%\",\r\n        marginLeft: \"5%\",\r\n        marginRight: \"5%\",\r\n        overflow: \"auto\",\r\n    }\r\n  }));\r\n  \r\nconst SearchResult = (props) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n            <Typography variant=\"h4\" \r\n                align=\"center\"\r\n                className={classes.title}>\r\n                    Search result\r\n            </Typography>\r\n\r\n            <br/>\r\n\r\n            <Grid container \r\n                className={classes.container} \r\n                spacing={3} \r\n                alignItems=\"center\">\r\n\r\n                    {props.loading && <Spinner/>}\r\n\r\n                    {/* Show apartment */}\r\n                    {props.restaurantsFilter.length !== 0 && props.restaurantsFilter.map(restaurant => (\r\n                        <Grid item \r\n                            xs={12} md={6} lg={4} \r\n                            className={classes.hover} \r\n                            key={restaurant.id}>\r\n\r\n                                <CardRestaurant restaurant={restaurant} \r\n                                    flag=\"restaurants\"\r\n                                />\r\n\r\n                        </Grid>\r\n                    ))}\r\n\r\n                    {props.restaurantsFilter.length === 0 && \r\n                        <h3 style={{\r\n                            width: \"100%\",\r\n                            textAlign: \"center\", \r\n                            color: \"white\"\r\n                            }}>\r\n                                No matched results\r\n                        </h3>}\r\n            </Grid>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchResult;\r\n","import React from 'react';\r\n// MUI\r\nimport { Divider as DividerMUI } from '@material-ui/core';\r\n\r\nconst Divider = () => {\r\n    return (\r\n        <DividerMUI style={{marginTop: \"3rem\", marginBottom: \"3rem\"}}/>\r\n    )\r\n}\r\n\r\nexport default Divider;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n// Components\r\nimport StyledBanner from \"../components/Banner/StyledBanner\";\r\nimport Banner from '../components/Banner/Banner';\r\nimport HomeDescription from '../components/HomeDescription/HomeDescription';\r\nimport HomeRestaurant from '../components/HomeRestaurant/HomeRestaurant';\r\nimport SearchResult from '../components/SearchResult/SearchResult';\r\nimport Divider from '../components/Divider/Divider';\r\n// Redux stuff\r\nimport { getRestaurants } from '../redux/actions/dataAction';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Home extends Component {\r\n\r\n    // Get all apartments initially\r\n    componentDidMount() {\r\n        this.props.getRestaurants();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n                <StyledBanner img=\"https://firebasestorage.googleapis.com/v0/b/mobile-2ef47.appspot.com/o/homeBanner.jpg?alt=media\">\r\n                    <Banner/>\r\n                </StyledBanner>\r\n                \r\n                <Divider/>\r\n\r\n                {/* Check show or hide search result */}\r\n                {this.props.app.state.search && (\r\n                    <>\r\n                        <SearchResult restaurantsFilter={this.props.data.restaurantsFilter} \r\n                            loading={this.props.data.loading}\r\n                        />\r\n                        <Divider/>\r\n                    </>\r\n                )}\r\n\r\n                <HomeDescription/>\r\n\r\n                <Divider/>\r\n\r\n                <HomeRestaurant restaurants={this.props.data.restaurants} \r\n                    loading={this.props.data.loading}\r\n                />\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n// Check type of data\r\nHome.propTypes = {\r\n    getRestaurants: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    UI: PropTypes.object.isRequired,\r\n    data: PropTypes.object.isRequired\r\n}\r\n// Get data from redux to props\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    UI: state.UI,\r\n    data: state.data\r\n});\r\n// Get action from redux to props\r\nconst mapActionsToProps = {\r\n    getRestaurants\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(Home);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n// MUI\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {TextField, Button, Typography} from '@material-ui/core';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Box from '@material-ui/core/Box';\r\n//Components\r\nimport Spinner from '../Spinner/Spinner';\r\nimport AutoAddress from '../Autocomplete/AutoAddress';\r\n// Redux stuff\r\nimport { postRestaurant, uploadImage } from '../../redux/actions/dataAction';\r\nimport { connect } from 'react-redux';\r\n\r\nconst labels = {\r\n  0: 'Very bad',\r\n  1: 'Bad',\r\n  2: 'Need to improve',\r\n  3: 'Normal',\r\n  4: 'Good',\r\n  5: 'Excellent',\r\n};\r\n\r\n// CSS-in-react\r\nconst styles = (theme) => ({\r\n  form: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '100%',\r\n    },\r\n  },\r\n  customError: {\r\n    color: \"red\",\r\n    textAlign: \"center\",\r\n    marginTop: 10\r\n  },\r\n  labelRating: {\r\n    fontSize: \"1rem\",\r\n  },\r\n  resultRating: {\r\n    fontWeight: \"bold\"\r\n  },\r\n  contentRating: {\r\n    display: \"flex\",\r\n    paddingLeft: \"1em\"\r\n  }\r\n});\r\n\r\nclass FormAdd extends Component {\r\n    state = {\r\n        name: \"\",\r\n        type: \"\",\r\n        visitDate: \"\",\r\n        price: 0,\r\n        serviceRating: \"\",\r\n        cleanlinessRating: \"\",\r\n        foodQualityRating: \"\",\r\n        reporter: \"\",\r\n        notes: \"Empty\",\r\n        url: \"\",\r\n        errors: {},\r\n        valueService: 0,\r\n        hoverService: -1,\r\n        valueCleanliness: 0,\r\n        hoverCleanliness: -1,\r\n        valueFood: 0,\r\n        hoverFood: -1,\r\n        address: \"No information\"\r\n    }\r\n\r\n    // Get errors after adding\r\n    componentWillReceiveProps() {\r\n        this.setState({\r\n            ...this.state,\r\n            message: this.props.data.message\r\n        })\r\n        if(this.props.data.message === \"Loaded image\") {\r\n            \r\n        }\r\n    }\r\n\r\n    // Get data from typing to state\r\n    handleChange = (event) => {\r\n        if(event.target.value.length > 30) {\r\n            event.target.value = event.target.value.slice(0, 30);\r\n\r\n            this.setState({\r\n                ...this.state,\r\n                [event.target.name] : event.target.value\r\n            });\r\n        } else {\r\n            this.setState({\r\n                ...this.state,\r\n                [event.target.name] : event.target.value\r\n            });\r\n        }\r\n    }\r\n\r\n    // Handle change rating\r\n    handleChangeRating = (event, newValue) => {\r\n        switch(event.target.name) {\r\n            case \"serviceRating\":\r\n                this.setState({\r\n                    ...this.state,\r\n                    valueService: newValue\r\n                });\r\n                break;\r\n            case \"cleanlinessRating\": \r\n                this.setState({\r\n                    ...this.state,\r\n                    valueCleanliness: newValue\r\n                });\r\n                break;\r\n            case \"foodQualityRating\":\r\n                this.setState({\r\n                    ...this.state,\r\n                    valueFood: newValue\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    // Handle change active rating\r\n    handleChangeActive = (event, newHover) => {\r\n        switch(event.target.name) {\r\n            case \"serviceRating\":\r\n                this.setState({\r\n                    ...this.state,\r\n                    hoverService: newHover\r\n                });\r\n                break;\r\n            case \"cleanlinessRating\": \r\n                this.setState({\r\n                    ...this.state,\r\n                    hoverCleanliness: newHover\r\n                });\r\n                break;\r\n            case \"foodQualityRating\":\r\n                this.setState({\r\n                    ...this.state,\r\n                    hoverFood: newHover\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    // Upload image\r\n    handleUpload = (e) => {\r\n        e.preventDefault();\r\n        const image = e.target.files[0];\r\n        const formData = new FormData();\r\n        formData.append('image', image, image.name);\r\n        this.props.uploadImage(formData, this.props.data.restaurants[this.props.data.restaurants.length-1].restaurant.id);\r\n    }\r\n\r\n    // Handle submitting\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        let errors = {\r\n            count: 0\r\n        };\r\n        // Check constraints\r\n        if(this.state.name === \"\") {\r\n            errors.name = \"Name is required!\";\r\n            errors.count += 1;\r\n        }\r\n        if(this.state.type === \"\") {\r\n            errors.type = \"Type is required!\";\r\n            errors.count += 1;\r\n        }\r\n        if(this.state.visitDate === \"\") {\r\n            errors.visitDate = \"Visited date is required!\";\r\n            errors.count += 1;\r\n        }\r\n        if(this.state.price === 0) {\r\n            errors.price = \"Price is required!\";\r\n            errors.count += 1;\r\n        }\r\n\r\n        if(errors.count > 0){\r\n            this.setState({\r\n                ...this.state,\r\n                errors\r\n            })\r\n        } else {\r\n            const totalRating = Math.round((this.state.valueService + this.state.valueFood + this.state.valueCleanliness) / 3);\r\n\r\n            const newData = {\r\n                name: this.state.name,\r\n                type: this.state.type,\r\n                visitDate: this.state.visitDate,\r\n                serviceRating: labels[this.state.valueService],\r\n                cleanlinessRating: labels[this.state.valueCleanliness],\r\n                foodQualityRating: labels[this.state.valueFood],\r\n                totalRating: labels[totalRating],\r\n                price: this.state.price,\r\n                reporter: this.props.user.credentials.email,\r\n                notes: this.state.notes,\r\n                createdDate: new Date().toISOString(),\r\n                address: this.state.address\r\n            };\r\n            // Start adding\r\n            this.props.postRestaurant(newData);\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n  \r\n        const {classes} = this.props;\r\n        if(this.props.data.message === \"Loaded image\") {\r\n            this.props.closeModel();\r\n            this.props.history.push('/home');\r\n        }\r\n        return (\r\n            <form className={classes.form} \r\n                noValidate \r\n                autoComplete=\"off\" \r\n                onSubmit={this.handleSubmit}>\r\n\r\n                    {this.state.errors.name ? (\r\n                        <TextField error \r\n                            name=\"name\" \r\n                            helperText={this.state.errors.name} \r\n                            required label=\"1. Name\" \r\n                            variant=\"standard\" \r\n                            onChange={this.handleChange}    \r\n                        />\r\n                    ) : (\r\n                        <TextField name=\"name\" \r\n                            required \r\n                            label=\"1. Name\" \r\n                            variant=\"standard\" \r\n                            onChange={this.handleChange}\r\n                        />\r\n                    )}\r\n\r\n                    {this.state.errors.type ? (\r\n                        <TextField error \r\n                            name=\"type\" \r\n                            helperText={this.state.errors.type} \r\n                            required label=\"2. Type\" \r\n                            variant=\"standard\" \r\n                            onChange={this.handleChange}    \r\n                        />\r\n                    ) : (\r\n                        <TextField name=\"type\" \r\n                            required \r\n                            label=\"2. Type\" \r\n                            variant=\"standard\" \r\n                            onChange={this.handleChange}\r\n                        />\r\n                    )}\r\n\r\n                    <AutoAddress parent={this}/>\r\n\r\n                    {this.state.errors.visitDate ? (\r\n                        <TextField error \r\n                            name=\"visitDate\" \r\n                            helperText={this.state.errors.visitDate} \r\n                            required \r\n                            label=\"3. Visited date\" \r\n                            variant=\"standard\"  \r\n                            onChange={this.handleChange}\r\n                            type=\"date\"\r\n                            InputLabelProps={{shrink: true}}\r\n                        />\r\n                    ) : (\r\n                        <TextField name=\"visitDate\" \r\n                            required \r\n                            label=\"3. Visited date\" \r\n                            variant=\"standard\"  \r\n                            type=\"date\"\r\n                            onChange={this.handleChange}\r\n                            InputLabelProps={{shrink: true}}\r\n                        />\r\n                    )}\r\n\r\n                    {this.state.errors.price ? (\r\n                        <TextField error \r\n                            name=\"price\" \r\n                            type=\"number\" \r\n                            helperText={this.state.errors.price} \r\n                            required \r\n                            label=\"4. Price\" \r\n                            variant=\"standard\" \r\n                            onChange={this.handleChange}\r\n                        />\r\n                    ) : (\r\n                        <TextField name=\"price\" \r\n                            type=\"number\" \r\n                            required \r\n                            label=\"4. Price\" \r\n                            variant=\"standard\"\r\n                            onChange={this.handleChange}\r\n                        />\r\n                    )}\r\n\r\n                    <label htmlFor=\"serviceRating\" className={classes.labelRating}>\r\n                        5. Service rating: \r\n                    </label>\r\n                    <span className={classes.contentRating}>\r\n                        <Rating\r\n                            name=\"serviceRating\"\r\n                            value={this.state.valueService}\r\n                            precision={1}\r\n                            onChange={this.handleChangeRating}\r\n                            onChangeActive={this.handleChangeActive}\r\n                        />\r\n                        {this.state.valueService !== null && \r\n                            <Box ml={2} className={classes.resultRating}>\r\n                                {labels[this.state.hoverService !== -1 ? \r\n                                    this.state.hoverService : \r\n                                    this.state.valueService]}\r\n                            </Box>\r\n                        }\r\n                    </span>\r\n\r\n                    <label htmlFor=\"cleanlinessRating\" className={classes.labelRating}>\r\n                        6. Cleanliness rating: \r\n                    </label>\r\n                    <span className={classes.contentRating}>\r\n                        <Rating\r\n                            name=\"cleanlinessRating\"\r\n                            value={this.state.valueCleanliness}\r\n                            precision={1}\r\n                            onChange={this.handleChangeRating}\r\n                            onChangeActive={this.handleChangeActive}\r\n                        />\r\n                        {this.state.valueCleanliness !== null && \r\n                            <Box ml={2} className={classes.resultRating}>\r\n                                {labels[this.state.hoverCleanliness !== -1 ? \r\n                                    this.state.hoverCleanliness : \r\n                                    this.state.valueCleanliness]}\r\n                            </Box>\r\n                        }\r\n                    </span>\r\n                    \r\n                    <label htmlFor=\"foodQualityRating\" className={classes.labelRating}>\r\n                        7. Food quality rating: \r\n                    </label>\r\n                    <span className={classes.contentRating}>\r\n                        <Rating\r\n                            name=\"foodQualityRating\"\r\n                            value={this.state.valueFood}\r\n                            precision={1}\r\n                            onChange={this.handleChangeRating}\r\n                            onChangeActive={this.handleChangeActive}\r\n                        />\r\n                        {this.state.valueFood !== null && \r\n                            <Box ml={2} className={classes.resultRating}>\r\n                                {labels[this.state.hoverFood !== -1 ? \r\n                                    this.state.hoverFood : \r\n                                    this.state.valueFood]}\r\n                            </Box>\r\n                        }\r\n                    </span>\r\n\r\n                    <Button type=\"submit\" \r\n                        variant=\"contained\" \r\n                        color=\"primary\">\r\n                            Create information\r\n                    </Button>\r\n                    {/* Message and spinner */}\r\n                    {this.state.message && (\r\n                        <>\r\n                            <Typography>\r\n                                Add restaurant image:\r\n                            </Typography>\r\n                            <TextField type=\"file\" \r\n                                name=\"image\" \r\n                                onChange={this.handleUpload}\r\n                            />\r\n                        </>\r\n                    )}\r\n                    {this.props.data.message === \"Loaded image\" && (\r\n                        <Typography variant=\"body2\" \r\n                            className={classes.customError}>\r\n                                {this.props.data.message}\r\n                        </Typography>\r\n                    )}\r\n                    {this.props.data.loading && <Spinner/>}\r\n\r\n            </form>\r\n        );\r\n    }\r\n}\r\n// Check type of data\r\nFormAdd.propTypes = {\r\n    uploadImage: PropTypes.func.isRequired,\r\n    postRestaurant: PropTypes.func.isRequired,\r\n    UI: PropTypes.object.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    data: PropTypes.object.isRequired\r\n}\r\n// Get data from redux to props\r\nconst mapStateToProps = (state) => ({\r\n    UI: state.UI,\r\n    user: state.user,\r\n    data: state.data\r\n});\r\n// Get action from redux to props\r\nconst mapActionsToProps = {\r\n    postRestaurant,\r\n    uploadImage\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(FormAdd));","import React, {useState} from 'react';\r\n//MUI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport { Tooltip, Typography } from '@material-ui/core';\r\n// Components\r\nimport FormAdd from '../Forms/FormAdd';\r\n//Icon\r\nimport AddIcon from \"@material-ui/icons/AddCircle\";\r\n\r\n// CSS-in-react\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 500,\r\n    height: 700,\r\n    overflow: \"scroll\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: `translate(-50%, -50%)`,\r\n    // Change when screen dowm 960\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      width: 300,\r\n      height: 500,\r\n    }\r\n  },\r\n  addIcon: {\r\n    width: \"60%\",\r\n    height: \"60%\",\r\n    margin: \"20%\",\r\n  }\r\n}));\r\n\r\nconst ModalAdd = (props) => {\r\n  const classes = useStyles();\r\n\r\n  // Set state\r\n  const [open, setOpen] = useState(false);\r\n\r\n  // Close and open modal\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  // Modal body\r\n  const body = (\r\n    <div className={classes.paper}>\r\n      <Typography variant=\"h4\" \r\n        align=\"center\">\r\n          Create a rating restaurant\r\n      </Typography>\r\n      <FormAdd closeModel={handleClose} history={props.history}/>\r\n    </div>\r\n  );\r\n  \r\n  return (\r\n    <div>\r\n      <Tooltip title=\"Add more\">\r\n        <AddIcon className={classes.addIcon} \r\n          onClick={handleOpen}\r\n        />\r\n      </Tooltip>\r\n      \r\n      <Modal\r\n        style={{zIndex: 3}}\r\n        open={open}\r\n        onClose={handleClose}>\r\n          {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ModalAdd;","import React from 'react';\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Grid, Typography, Tooltip} from '@material-ui/core';\r\n// Components\r\nimport Spinner from '../Spinner/Spinner';\r\nimport CardRestaurant from \"../CardRestaurant/CardRestaurant\";\r\nimport ModalAdd from \"../Modals/ModalAdd\";\r\nimport Divider from \"../Divider/Divider\";\r\n\r\n// CSS-in-react\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      margin: \"2%\"\r\n    },\r\n    divider: {\r\n        marginBottom: \"1rem\"\r\n    },\r\n    hover: {\r\n        '&:hover': {\r\n            opacity: 0.8,\r\n          }\r\n    },\r\n    hoverAdd: {\r\n        '&:hover': {\r\n            opacity: 0.8,\r\n            cursor: \"pointer\"\r\n          }\r\n    },\r\n    container: {\r\n        maxHeight: \"1000px\",\r\n        width: \"90%\",\r\n        marginLeft: \"5%\",\r\n        marginRight: \"5%\",\r\n        overflow: \"auto\",\r\n    },\r\n    addIcon: {\r\n        width: \"40%\",\r\n        height: \"40%\",\r\n        margin: \"30%\"\r\n    }\r\n  }));\r\n  \r\nconst ListRestaurant = (props) => {\r\n\r\n    const classes = useStyles();\r\n    \r\n    return (\r\n        <div className={classes.root}>\r\n\r\n            <Typography variant=\"h4\" \r\n                align=\"center\">\r\n                    List of rating restaurants\r\n            </Typography>\r\n\r\n            <Divider className={classes.divider}/>\r\n\r\n            <Grid container \r\n                className={classes.container} \r\n                spacing={3} \r\n                alignItems=\"center\">\r\n\r\n                    <Grid item \r\n                        xs={12} md={6} lg={4} \r\n                        className={classes.hoverAdd} >\r\n                            <Tooltip title=\"Add more\">\r\n                                <>\r\n                                    <ModalAdd history={props.history}/>\r\n                                </>\r\n                            </Tooltip>\r\n                    </Grid>\r\n\r\n                    {props.loading && <Spinner/>}\r\n                    {/* Show apartments */}\r\n                    {props.restaurants.map(restaurant => (\r\n                        <Grid item \r\n                            xs={12} md={6} lg={4} \r\n                            className={classes.hover} \r\n                            key={restaurant.id+Math.random()}>\r\n\r\n                                <CardRestaurant restaurant={restaurant} \r\n                                    flag=\"restaurants\" \r\n                                    deleteRestaurant={props.deleteRestaurant}\r\n                                    history={props.history}\r\n                                />\r\n                        </Grid>\r\n                    ))}\r\n\r\n            </Grid>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ListRestaurant;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n// Components\r\nimport StyledBanner from \"../components/Banner/StyledBanner\";\r\nimport Banner from '../components/Banner/Banner';\r\nimport ListRestaurant from '../components/ListRestaurant/ListRestaurant';\r\nimport SearchResult from '../components/SearchResult/SearchResult';\r\nimport Divider from '../components/Divider/Divider';\r\n// Redux stuff\r\nimport { getRestaurants, deleteRestaurant } from '../redux/actions/dataAction';\r\nimport { connect } from 'react-redux';\r\n\r\nexport class Apartments extends Component {\r\n\r\n    // Get all apartments initially\r\n    componentDidMount() {\r\n        this.props.getRestaurants();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n                <StyledBanner img=\"https://firebasestorage.googleapis.com/v0/b/mobile-2ef47.appspot.com/o/restaurantBanner.jpg?alt=media\">\r\n                    <Banner/>\r\n                </StyledBanner>\r\n\r\n                <Divider/>\r\n\r\n                {/* Check show or hide search result */}\r\n                {this.props.app.state.search && (\r\n                    <>\r\n                        <SearchResult restaurantsFilter={this.props.data.restaurantsFilter}/>\r\n                        <Divider/>\r\n                    </>\r\n                )}\r\n\r\n                <ListRestaurant restaurants={this.props.data.restaurants} \r\n                    loading={this.props.data.loading} \r\n                    deleteRestaurant={this.props.deleteRestaurant.bind(this)}\r\n                    history={this.props.history}\r\n                />\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n// Check type of data\r\nApartments.propTypes = {\r\n    getRestaurants: PropTypes.func.isRequired,\r\n    deleteRestaurant: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    UI: PropTypes.object.isRequired,\r\n    data: PropTypes.object.isRequired\r\n}\r\n// Get data from redux to props\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    UI: state.UI,\r\n    data: state.data\r\n});\r\n// Get action from redux to props\r\nconst mapActionsToProps = {\r\n    getRestaurants,\r\n    deleteRestaurant\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(Apartments);\r\n","import React, {useEffect, useState} from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport {NavLink} from \"react-router-dom\";\r\n// MUI\r\nimport clsx from 'clsx';\r\nimport {Drawer, CssBaseline, AppBar, Toolbar, \r\n  List, Typography, Divider, ListItem, ListItemIcon, \r\n  ListItemText, InputBase, IconButton} from \"@material-ui/core\";\r\nimport { fade, makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport { Avatar, Grid } from \"@material-ui/core\";\r\n// Redux stuff\r\nimport {getUserData} from '../../redux/actions/userActions';\r\nimport {filter} from '../../redux/actions/dataAction';\r\nimport { connect } from 'react-redux';\r\n// Icons\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport ApartmentIcon from \"@material-ui/icons/Apartment\";\r\nimport LogoutIcon from '@material-ui/icons/ExitToApp';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\n\r\n// Width of drawer menu\r\nconst drawerWidth = 240;\r\n\r\n// CSS-in-react\r\nconst styles = makeStyles((theme) => ({\r\n  appBar: {\r\n    zIndex: 2,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    })\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    zIndex: 2\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n    boxShadow: \"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)\"\r\n  },\r\n  navLink: {\r\n    textDecoration: \"none\",\r\n    color: \"black\"\r\n  },\r\n  avatarSize: {\r\n    height: theme.spacing(7),\r\n    width: theme.spacing(7)\r\n  },\r\n  divider: {\r\n    background: \"blue\"\r\n  },\r\n  // All for search\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    // Add more when screen up 600\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '8ch',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '20ch'\r\n    }\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n  // Add more when screen up 960\r\n  [theme.breakpoints.up('md')]: {\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    drawerHeader: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      padding: theme.spacing(0, 1),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n      justifyContent: 'flex-end',\r\n    },\r\n    appBar: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth,\r\n    }\r\n  },\r\n}));\r\n\r\nconst Nav = (props) => {\r\n\r\n  const classes = styles();\r\n  const theme = useTheme();\r\n\r\n  // Set states\r\n  const [open, setOpen] = useState(false);\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n\r\n  // Logout\r\n  const handleLogout = () => {\r\n    //Delete variable on local storage\r\n    localStorage.removeItem('FBidToken');\r\n    localStorage.removeItem('userId');\r\n\r\n    // Get icon close on toolbar\r\n    const iconClose = document.getElementById('iconCloseDrawer');\r\n    // Click on it when log out\r\n    if(iconClose) {\r\n      iconClose.click();\r\n    }\r\n    \r\n    // Set to rerender the app\r\n    props.app.setState({\r\n      ...props.app,\r\n      login: false\r\n    });\r\n  }\r\n\r\n  // Open menu\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n\r\n    // Set to rerender the app\r\n    props.app.setState({\r\n      ...props.app,\r\n      open: true\r\n    });\r\n  };\r\n\r\n  // Close menu\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n\r\n     // Set to rerender the app\r\n    props.app.setState({\r\n      ...props.app,\r\n      open: false\r\n    });\r\n  };\r\n\r\n  // Get width auto\r\n  const updateWidthAndHeight = () => {\r\n    setWidth(window.innerWidth);\r\n  };\r\n\r\n  //Search\r\n  const handleChangeSearch = (e) => {\r\n    let constraint = e.target.value;\r\n    if(constraint !== \"\"){\r\n      props.filter(constraint.toLowerCase());\r\n\r\n       // Set to rerender the app\r\n      props.app.setState({\r\n        ...props.app,\r\n        search: true\r\n      })\r\n    } else {\r\n      props.data.restaurantsFilter = [];\r\n\r\n       // Set to rerender the app\r\n      props.app.setState({\r\n        ...props.app,\r\n        search: false\r\n      })\r\n    }\r\n  }\r\n\r\n  // Use for rendering auto when screen size changes\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", updateWidthAndHeight);\r\n    return () => window.removeEventListener(\"resize\", updateWidthAndHeight);\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {/* Use to match the content to the app bar exactly */}\r\n      <CssBaseline /> \r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}>\r\n          <Toolbar>\r\n            {/* Burger button */}\r\n            {window.innerWidth <= 960 && (\r\n              <IconButton\r\n                color=\"inherit\"\r\n                aria-label=\"open drawer\"\r\n                onClick={handleDrawerOpen}\r\n                edge=\"start\"\r\n                className={clsx(classes.menuButton, open && classes.hide)}>\r\n                  <MenuIcon />\r\n              </IconButton>\r\n            )}\r\n            {/* Title */}\r\n            <Grid container \r\n              justify=\"space-between\" \r\n              alignItems=\"center\">\r\n                <Grid item>\r\n                  <Typography variant=\"h5\" \r\n                    noWrap \r\n                    align=\"center\">\r\n                      i-Rate\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item>\r\n                  {/* Search field */}\r\n                  <div className={classes.search}>\r\n                    <div className={classes.searchIcon}>\r\n                      <SearchIcon />\r\n                    </div>\r\n                    <InputBase\r\n                      placeholder=\"Search\"\r\n                      classes={{\r\n                        root: classes.inputRoot,\r\n                        input: classes.inputInput,\r\n                      }}\r\n                      inputProps={{ 'aria-label': 'search' }}\r\n                      name=\"search\"\r\n                      onChange={handleChangeSearch}\r\n                    />\r\n                  </div>\r\n                </Grid>\r\n            </Grid>\r\n          </Toolbar>\r\n      </AppBar>\r\n      {/* Drawer */}\r\n      {window.innerWidth > 960 ? /* Drawer for laptop */ (\r\n        <Drawer\r\n          className={classes.drawer}\r\n          variant=\"permanent\"\r\n          classes={{\r\n            paper: classes.drawerPaper\r\n          }}\r\n          anchor=\"left\"\r\n          open >\r\n            <div className={classes.toolbar}/>\r\n            <Divider className={classes.divider}/>\r\n            {/* User information */}\r\n            <Grid container \r\n              style={{padding: \"1rem\"}}>\r\n              <Grid container\r\n                item xs={4}  \r\n                justify=\"center\" \r\n                alignItems=\"center\">\r\n                <Avatar alt=\"User avatar\" \r\n                  src=\"https://firebasestorage.googleapis.com/v0/b/mobile-2ef47.appspot.com/o/avatar.png?alt=media\" \r\n                  className={classes.avatarSize}\r\n                />\r\n              </Grid>\r\n              <Grid container \r\n                item xs={8} \r\n                alignItems=\"center\">\r\n                  <Grid item>\r\n                    <Typography>\r\n                      Hello, {props.user.credentials.email}\r\n                    </Typography>\r\n                  </Grid>\r\n              </Grid>\r\n            </Grid>\r\n            <Divider className={classes.divider}/>\r\n            {/* Routes */}\r\n            <List>\r\n              {[\"Home\", \"Restaurants\"].map((text, index) => {\r\n                if(text === \"Home\") {\r\n                    return (\r\n                        <NavLink to=\"/home\" \r\n                          className={classes.navLink} \r\n                          key={text}>\r\n                            <ListItem button>\r\n                                <ListItemIcon>\r\n                                    <HomeIcon />\r\n                                </ListItemIcon>\r\n                                <ListItemText primary={text}/>\r\n                            </ListItem>\r\n                        </NavLink>\r\n                    )\r\n                } else {\r\n                    return (\r\n                        <NavLink to=\"/restaurants\" \r\n                          className={classes.navLink} \r\n                          key={text}>\r\n                            <ListItem button key={text}>\r\n                                <ListItemIcon>\r\n                                    <ApartmentIcon />\r\n                                </ListItemIcon>\r\n                                <ListItemText primary={text}/>\r\n                            </ListItem>\r\n                        </NavLink>\r\n                    )\r\n                }}\r\n              )}\r\n            </List>\r\n            <Divider className={classes.divider}/>\r\n            {/* Logout button */}\r\n            <List>\r\n              <div\r\n                className={classes.navLink} \r\n                onClick={handleLogout}>\r\n                  <ListItem button>\r\n                      <ListItemIcon>\r\n                          <LogoutIcon />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Log out\"/>\r\n                  </ListItem>\r\n              </div>\r\n            </List>\r\n        </Drawer>\r\n      ) : /* Drawer for tablet */ (\r\n        <Drawer\r\n          className={classes.drawer}\r\n          variant=\"persistent\"\r\n          classes={{\r\n            paper: classes.drawerPaper\r\n          }}\r\n          anchor=\"left\"\r\n          open={open}>\r\n            <div className={classes.drawerHeader}>\r\n              <IconButton onClick={handleDrawerClose} id=\"iconCloseDrawer\">\r\n                {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n              </IconButton>\r\n            </div>\r\n            <div className={classes.toolbar}/>\r\n            <Divider className={classes.divider}/>\r\n            {/* User information */}\r\n            <Grid container \r\n              style={{padding: \"1rem\"}}>\r\n              <Grid container \r\n                item xs={4} \r\n                justify=\"center\" \r\n                alignItems=\"center\">\r\n                <Avatar alt=\"User avatar\" \r\n                  src=\"https://firebasestorage.googleapis.com/v0/b/mobile-2ef47.appspot.com/o/avatar.png?alt=media\"\r\n                  className={classes.avatarSize}\r\n                />\r\n              </Grid>\r\n              <Grid container \r\n                item xs={8} \r\n                alignItems=\"center\">\r\n                <Grid item>\r\n                  <Typography>\r\n                    Hello, {props.user.credentials.email}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n            <Divider className={classes.divider}/>\r\n            {/* Routes */}\r\n            <List>\r\n              {[\"Home\", \"Restaurants\"].map((text, index) => {\r\n                if(text === \"Home\") {\r\n                    return (\r\n                        <NavLink to=\"/home\" \r\n                          className={classes.navLink} \r\n                          key={text} \r\n                          onClick={handleDrawerClose}>\r\n                            <ListItem button>\r\n                                <ListItemIcon>\r\n                                    <HomeIcon />\r\n                                </ListItemIcon>\r\n                                <ListItemText primary={text}/>\r\n                            </ListItem>\r\n                        </NavLink>\r\n                    )\r\n                } else {\r\n                    return (\r\n                        <NavLink to=\"/restaurants\" \r\n                          className={classes.navLink} \r\n                          key={text} \r\n                          onClick={handleDrawerClose}>\r\n                            <ListItem button key={text}>\r\n                                <ListItemIcon>\r\n                                    <ApartmentIcon />\r\n                                </ListItemIcon>\r\n                                <ListItemText primary={text}/>\r\n                            </ListItem>\r\n                        </NavLink>\r\n                    )\r\n                }}\r\n              )}\r\n            </List>\r\n            <Divider className={classes.divider}/>\r\n            {/* Logout button */}\r\n            <List>\r\n              <div\r\n                className={classes.navLink}\r\n                onClick={handleLogout}>\r\n                  <ListItem button>\r\n                      <ListItemIcon>\r\n                          <LogoutIcon/>\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Log out\"/>\r\n                  </ListItem>\r\n              </div>\r\n            </List>\r\n        </Drawer>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n// Check type of data\r\nNav.propTypes = {\r\n  getUserData: PropTypes.func.isRequired,\r\n  filter: PropTypes.func.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  data: PropTypes.object.isRequired\r\n}\r\n// Get data from redux to props\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user,\r\n  data: state.data\r\n});\r\n// Get action from redux to props\r\nconst mapActionsToProps = {\r\n  getUserData,\r\n  filter\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(Nav);\r\n","import { SET_USER, SET_AUTHENTICATED, SET_UNAUTHENTICATED, LOADING_USER } from '../types';\r\n\r\nconst initialState = {\r\n    authenticated: false,\r\n    loading: false,\r\n    credentials: {},\r\n};\r\n\r\nexport default function(state = initialState, action){\r\n    switch(action.type){\r\n        case SET_AUTHENTICATED:\r\n            return{\r\n                ...state,\r\n                authenticated: true\r\n            };\r\n        case SET_UNAUTHENTICATED:\r\n            return initialState;\r\n        case SET_USER: \r\n            return {\r\n                ...state,\r\n                authenticated: true,\r\n                loading: false,\r\n                credentials: action.payload,\r\n            };\r\n        case LOADING_USER:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import {SET_RESTAURANTS, SET_RESTAURANT, DELETE_RESTAURANT, POST_RESTAURANT, LOADING_DATA, FILTER_RESTAURANTS, UPDATE_RESTAURANT} from '../types';\r\n\r\nconst initialState = {\r\n    restaurants: [],\r\n    restaurantsFilter: [],\r\n    restaurant: {},\r\n    loading: false,\r\n    message: \"\",\r\n};\r\n\r\nexport default function(state = initialState, action){\r\n    let index;\r\n    switch(action.type){\r\n        case LOADING_DATA:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case SET_RESTAURANTS:\r\n            return {\r\n                ...state,\r\n                restaurants: action.payload,\r\n                loading: false\r\n            }\r\n        case SET_RESTAURANT: \r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                message: \"Loaded image\",\r\n                restaurant: action.payload\r\n            }\r\n        case FILTER_RESTAURANTS:\r\n            return {\r\n                ...state,\r\n                restaurantsFilter: action.payload,\r\n                loading: false\r\n            }\r\n        case POST_RESTAURANT:\r\n            state.restaurants.push(action.payload);\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                message: action.payload.message\r\n            }\r\n        case UPDATE_RESTAURANT: \r\n            index = state.restaurants.findIndex(restaurant => restaurant.id === action.payload.restaurant.id);\r\n            state.restaurants.splice(index, 1);\r\n            state.restaurants.push(action.payload.restaurant);\r\n           \r\n            // Sort by date\r\n            state.restaurants.sort((a, b) => (a.dateCreate < b.dateCreate) ? 1 : (a.dateCreate === b.dateCreate) ? ((a.type > b.type) ? 1 : -1) : -1 )\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                restaurantsFilter: [],\r\n                message: action.payload.message\r\n            }\r\n        case DELETE_RESTAURANT:\r\n            index = state.restaurants.findIndex(restaurant => restaurant.id === action.payload);\r\n            state.restaurants.splice(index, 1);\r\n            return {\r\n                ...state,\r\n                loading: false\r\n            }\r\n        default: \r\n            return state\r\n    }\r\n}","import { SET_ERRORS, SET_ERRORS_LOGIN, SET_ERRORS_REGISTOR, CLEAR_ERRORS, LOADING_UI, STOP_LOADING_UI } from '../types';\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    errors: null\r\n};\r\n\r\nexport default function(state = initialState, action){\r\n    switch(action.type){\r\n        case SET_ERRORS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                errors: action.payload.message\r\n            };\r\n        case SET_ERRORS_LOGIN:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                errors: action.payload.data.message\r\n            };\r\n        case SET_ERRORS_REGISTOR:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                errors: action.payload.data.message\r\n            };\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                errors: null\r\n            };\r\n        case LOADING_UI:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case STOP_LOADING_UI:\r\n            return {\r\n                ...state,\r\n                loading: false\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport userReducer from './reducers/userReducer';\r\nimport dataReducer from './reducers/dataReducer';\r\nimport uiReducer from './reducers/uiReducer';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst reducers = combineReducers({\r\n    user: userReducer,\r\n    data: dataReducer,\r\n    UI: uiReducer\r\n});\r\n\r\nconst store = createStore(\r\n    reducers,\r\n    initialState, \r\n    compose(applyMiddleware(...middleware), \r\n    )\r\n);\r\n\r\nexport default store;","import React, { Component } from \"react\";\nimport {BrowserRouter, Switch, Redirect, Route} from \"react-router-dom\";\nimport \"./App.css\";\n// MUI\nimport { withStyles } from \"@material-ui/core/styles\";\nimport clsx from 'clsx';\n// Components\nimport Login from \"./pages/Login\";\nimport Home from \"./pages/Home\";\nimport Restaurants from \"./pages/Restaurants\";\nimport Nav from \"./components/Navigation/Nav\";\n// Redux\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { SET_AUTHENTICATED } from './redux/types';\nimport { logoutUser, getUserData } from './redux/actions/userActions';\n// Middleware\nimport axios from 'axios';\nimport jwtDecode from 'jwt-decode';\n\n// Set base url to connect API\naxios.defaults.baseURL= \"https://app-irate.herokuapp.com/\";\n\n// Token\nconst token = localStorage.FBidToken;\nif(token){\n  const decodedToken = jwtDecode(token);\n  if(decodedToken.exp * 1000 < Date.now()){\n    store.dispatch(logoutUser());\n  } else {\n    store.dispatch({ type: SET_AUTHENTICATED });\n    axios.defaults.headers.common['Authorization'] = token;\n    store.dispatch(getUserData(localStorage.userId));\n  }\n}\n\n// Css-in-react\nconst styles = (theme) => ({\n  root: {\n    display: \"flex\",\n    overflow: \"hidden\"\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    backgroundColor: \"rgba(0, 0, 0.08, 0.08)\",\n\n  },\n  // Add more when screen down 960\n  [theme.breakpoints.down('sm')]: {\n    content: {\n      flexGrow: 1,\n\n      transition: theme.transitions.create('margin', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      marginLeft: -240,\n    },\n    // Content should longer or shorter\n    contentShift: {\n      transition: theme.transitions.create('margin', {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n      marginLeft: 0,\n    }\n  }\n});\n\nclass App extends Component {\n  \n  state = {\n    // open to assign to contentShift => false mean drawer close and then main content longer\n    open: false,\n    // Get from login\n    login: false \n  }\n  componentDidMount() {\n    // Check condition to re-render when login or logout\n    if(localStorage.FBidToken === undefined) {\n      this.setState({\n        ...this.state,\n        login: false\n      });\n    } else {\n      this.setState({\n        ...this.state,\n        login: true\n      });\n    }\n  }\n\n  render() {\n    const {classes} = this.props;\n\n    return (\n      <Provider store={store}>\n        <BrowserRouter>\n        {this.state.login ? (\n          <> \n            <div className={classes.root}>\n              {/* Assign this to setState in Nav => render 2 times*/}\n              <Nav app={this}/>\n              <main  className={clsx(classes.content, {\n                [classes.contentShift]: this.state.open,\n              })}>\n                <div className={classes.toolbar} />\n                  <Switch>\n                    <Redirect exact path=\"/\" to=\"/home\"/>\n                    <Redirect exact path=\"/login\" to=\"/home\"/>\n                    <Route path=\"/home\" exact component={(props) => <Home app={this} history={props.history}/>}/>\n                    <Route path=\"/restaurants\" exact component={(props) => <Restaurants app={this} history={props.history}/>}/>\n                  </Switch>\n              </main>\n            </div>\n          </>\n        ) : (\n          <>\n            <Redirect exact path=\"/\" to=\"/login\"/>\n            <Route path=\"/login\" exact render={(...props) => <Login login={this}/>} />\n            {/* <Route path=\"/test\" exact render={(...props) => <AutocompleteAddress/>} /> */}\n          </>\n        )}\n        </BrowserRouter>\n      </Provider> \n    )\n  }\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst renderReactDom = () => {\n\tReactDOM.render(\n\t\t<App />,\n\t  document.getElementById('root')\n\t);\n}\n\nif (window.cordova) {\n  document.addEventListener('deviceready', () => {\n    renderReactDom();\n  }, false);\n} else {\n  renderReactDom();\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}